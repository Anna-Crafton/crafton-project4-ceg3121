{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"../../services/toast.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ProfileComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate((ctx_r0.currentUser == null ? null : ctx_r0.currentUser.password) || \"hello1234\");\n  }\n}\nfunction ProfileComponent_input_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_input_16_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.password = $event);\n    })(\"keydown.enter\", function ProfileComponent_input_16_Template_input_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.doChangePassword());\n    })(\"focusout\", function ProfileComponent_input_16_Template_input_focusout_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.doChangePassword());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.password);\n  }\n}\nexport class ProfileComponent {\n  constructor(user, toastr) {\n    this.user = user;\n    this.toastr = toastr;\n    this.changePassword = false;\n    this.password = '';\n  }\n  ngOnInit() {\n    this.user.currentUser$.subscribe(data => {\n      this.currentUser = data;\n      this.password = data?.password ?? '';\n    });\n    this.toastr.showToast({\n      message: 'Welcome Back',\n      type: 'success'\n    });\n  }\n  doChangePassword() {\n    const updatedUser = {\n      id: this.currentUser?.id ?? 0,\n      username: this.currentUser?.username ?? '',\n      password: this.password ?? '',\n      email: this.currentUser?.email ?? ''\n    };\n    this.user.updateUser(this.currentUser?.id ?? 1234, updatedUser);\n    this.changePassword = false;\n  }\n  static #_ = this.ɵfac = function ProfileComponent_Factory(t) {\n    return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ToastService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileComponent,\n    selectors: [[\"app-profile\"]],\n    decls: 20,\n    vars: 5,\n    consts: [[1, \"flex\", \"profile-container\"], [1, \"flex-grow\", \"flex\", \"items-center\", \"justify-center\", \"overflow-hidden\", \"max-h-screen\"], [\"ngSrc\", \"../../../assets/duck.jpg\", \"alt\", \"Profile Background\", \"width\", \"3475\", \"height\", \"4629\", 1, \"object-cover\"], [1, \"profile-info\"], [1, \"row\"], [1, \"title\"], [4, \"ngIf\"], [\"class\", \"password\", 3, \"ngModel\", \"ngModelChange\", \"keydown.enter\", \"focusout\", 4, \"ngIf\"], [1, \"row\", \"cta-row\"], [3, \"click\"], [1, \"password\", 3, \"ngModel\", \"ngModelChange\", \"keydown.enter\", \"focusout\"]],\n    template: function ProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"span\", 4)(5, \"div\", 5);\n        i0.ɵɵtext(6, \"User:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"span\", 4)(9, \"div\", 5);\n        i0.ɵɵtext(10, \"Contact:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"span\", 4)(13, \"div\", 5);\n        i0.ɵɵtext(14, \"Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, ProfileComponent_div_15_Template, 2, 1, \"div\", 6);\n        i0.ɵɵtemplate(16, ProfileComponent_input_16_Template, 1, 1, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 8)(18, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_18_listener() {\n          return ctx.changePassword = !ctx.changePassword;\n        });\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", (ctx.currentUser == null ? null : ctx.currentUser.username) || \"Birdman 1000000\", \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", (ctx.currentUser == null ? null : ctx.currentUser.email) || \"birdguy@birds.net\", \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", !ctx.changePassword);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.changePassword);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.changePassword ? \"Cancel\" : \"Change Password\");\n      }\n    },\n    dependencies: [i3.NgIf, i3.NgOptimizedImage, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\".profile-container[_ngcontent-%COMP%] {\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.profile-info[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.5);\\n  position: absolute;\\n  right: calc(50% - 300px);\\n  top: calc(50% - 250px);\\n  padding: 15px;\\n  border-radius: 4px;\\n  height: 500px;\\n  width: 600px;\\n  font-size: 18px;\\n}\\n\\n.password[_ngcontent-%COMP%] {\\n  padding: 5px;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  color: rgb(30, 41, 59);\\n  font-weight: bold;\\n  margin-right: 15px;\\n}\\n\\n.profile-alert[_ngcontent-%COMP%] {\\n  margin-top: auto;\\n}\\n\\n.row[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.cta-row[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n  position: absolute;\\n  bottom: 0;\\n  font-size: 16px;\\n  opacity: 1;\\n}\\n.cta-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  background: darkseagreen;\\n  padding: 5px;\\n  border-radius: 4px;\\n  min-width: 135px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxvQ0FBQTtFQUNBLGtCQUFBO0VBQ0Esd0JBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUdBO0VBQ0Usc0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQUY7O0FBR0E7RUFDRSxnQkFBQTtBQUFGOztBQUdBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBQUY7O0FBR0E7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSxVQUFBO0FBQUY7QUFDRTtFQUNFLHdCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFDSiIsImZpbGUiOiJwcm9maWxlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2ZpbGUtY29udGFpbmVyIHtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5wcm9maWxlLWluZm8geyAvLyBzdHlsZSBwcm9maWxlIGluZm8gc2VjdGlvblxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IGNhbGMoNTAlIC0gMzAwcHgpO1xuICB0b3A6IGNhbGMoNTAlIC0gMjUwcHgpO1xuICBwYWRkaW5nOiAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGhlaWdodDogNTAwcHg7XG4gIHdpZHRoOiA2MDBweDtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4ucGFzc3dvcmQge1xuICBwYWRkaW5nOiA1cHg7XG5cbn1cblxuLnRpdGxlIHtcbiAgY29sb3I6IHJnYigzMCwgNDEsIDU5KTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIG1hcmdpbi1yaWdodDogMTVweDtcbn1cblxuLnByb2ZpbGUtYWxlcnQge1xuICBtYXJnaW4tdG9wOiBhdXRvO1xufVxuXG4ucm93IHsgLy8gY29tbW9uIHJldXNhYmxlIHJvdyBjbGFzc1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuXG4uY3RhLXJvdyB7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwO1xuICBmb250LXNpemU6IDE2cHg7XG4gIG9wYWNpdHk6IDE7XG4gIGJ1dHRvbiB7XG4gICAgYmFja2dyb3VuZDogZGFya3NlYWdyZWVuO1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgbWluLXdpZHRoOiAxMzVweDtcbiAgfVxufVxuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9maWxlL3Byb2ZpbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx1QkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxvQ0FBQTtFQUNBLGtCQUFBO0VBQ0Esd0JBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUdBO0VBQ0Usc0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0FBQUY7O0FBR0E7RUFDRSxnQkFBQTtBQUFGOztBQUdBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FBQUY7O0FBR0E7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSxVQUFBO0FBQUY7QUFDRTtFQUNFLHdCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFDSjtBQUNBLHd4REFBd3hEIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2ZpbGUtY29udGFpbmVyIHtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5wcm9maWxlLWluZm8geyAvLyBzdHlsZSBwcm9maWxlIGluZm8gc2VjdGlvblxuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IGNhbGMoNTAlIC0gMzAwcHgpO1xuICB0b3A6IGNhbGMoNTAlIC0gMjUwcHgpO1xuICBwYWRkaW5nOiAxNXB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGhlaWdodDogNTAwcHg7XG4gIHdpZHRoOiA2MDBweDtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuXG4ucGFzc3dvcmQge1xuICBwYWRkaW5nOiA1cHg7XG5cbn1cblxuLnRpdGxlIHtcbiAgY29sb3I6IHJnYigzMCwgNDEsIDU5KTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIG1hcmdpbi1yaWdodDogMTVweDtcbn1cblxuLnByb2ZpbGUtYWxlcnQge1xuICBtYXJnaW4tdG9wOiBhdXRvO1xufVxuXG4ucm93IHsgLy8gY29tbW9uIHJldXNhYmxlIHJvdyBjbGFzc1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuXG4uY3RhLXJvdyB7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiAwO1xuICBmb250LXNpemU6IDE2cHg7XG4gIG9wYWNpdHk6IDE7XG4gIGJ1dHRvbiB7XG4gICAgYmFja2dyb3VuZDogZGFya3NlYWdyZWVuO1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgbWluLXdpZHRoOiAxMzVweDtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;IAUMA,2BAA6B;IAAAA,YAAwC;IAAAA,iBAAM;;;;IAA9CA,eAAwC;IAAxCA,sGAAwC;;;;;;IACrEA,iCAA2I;IAAnHA;MAAAA;MAAA;MAAA;IAAA,EAAsB;MAAAA;MAAA;MAAA,OAAyCA,wCAAkB;IAAA,EAA3D;MAAAA;MAAA;MAAA,OAAyEA,wCAAkB;IAAA,EAA3F;IAA9CA,iBAA2I;;;;IAAnHA,yCAAsB;;;ACApD,OAAM,MAAOC,gBAAgB;EAK3BC,YAAoBC,IAAiB,EAAUC,MAAoB;IAA/C,SAAI,GAAJD,IAAI;IAAuB,WAAM,GAANC,MAAM;IAHrD,mBAAc,GAAY,KAAK;IAC/B,aAAQ,GAAW,EAAE;EAGrB;EAEAC,QAAQ;IACN,IAAI,CAACF,IAAI,CAACG,YAAY,CAACC,SAAS,CAAEC,IAAI,IAAI;MACxC,IAAI,CAACC,WAAW,GAAGD,IAAI;MACvB,IAAI,CAACE,QAAQ,GAAGF,IAAI,EAAEE,QAAQ,IAAI,EAAE;IACtC,CAAC,CAAC;IACF,IAAI,CAACN,MAAM,CAACO,SAAS,CAAC;MACpBC,OAAO,EAAE,cAAc;MACvBC,IAAI,EAAE;KACP,CAAC;EACJ;EAEAC,gBAAgB;IACd,MAAMC,WAAW,GAAS;MACxBC,EAAE,EAAE,IAAI,CAACP,WAAW,EAAEO,EAAE,IAAI,CAAC;MAC7BC,QAAQ,EAAE,IAAI,CAACR,WAAW,EAAEQ,QAAQ,IAAI,EAAE;MAC1CP,QAAQ,EAAE,IAAI,CAACA,QAAQ,IAAI,EAAE;MAC7BQ,KAAK,EAAE,IAAI,CAACT,WAAW,EAAES,KAAK,IAAI;KACnC;IACD,IAAI,CAACf,IAAI,CAACgB,UAAU,CAAC,IAAI,CAACV,WAAW,EAAEO,EAAE,IAAI,IAAI,EAAED,WAAW,CAAC;IAC/D,IAAI,CAACK,cAAc,GAAG,KAAK;EAC7B;EAAC;qBA5BUnB,gBAAgB;EAAA;EAAA;UAAhBA,gBAAgB;IAAAoB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDX7BzB,8BAAoC;QAGhCA,yBAA+G;QACjHA,iBAAM;QAENA,8BAA0B;QACaA,qBAAK;QAAAA,iBAAM;QAACA,YAA8C;QAAAA,iBAAO;QACtGA,+BAAkB;QAAmBA,yBAAQ;QAAAA,iBAAM;QAACA,aAA6C;QAAAA,iBAAO;QACxGA,gCAAkB;QAAmBA,0BAAS;QAAAA,iBAAM;QAClDA,mEAA2E;QAC3EA,uEAA2I;QAC7IA,iBAAO;QACPA,+BAAyB;QAAQA;UAAA;QAAA,EAA0C;QAACA,aAAmD;QAAAA,iBAAS;;;QANvFA,eAA8C;QAA9CA,gHAA8C;QAC3CA,eAA6C;QAA7CA,+GAA6C;QAEzFA,eAAqB;QAArBA,0CAAqB;QACqBA,eAAoB;QAApBA,yCAAoB;QAEMA,eAAmD;QAAnDA,uEAAmD","names":["i0","ProfileComponent","constructor","user","toastr","ngOnInit","currentUser$","subscribe","data","currentUser","password","showToast","message","type","doChangePassword","updatedUser","id","username","email","updateUser","changePassword","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/abruptedge/crafton-project4-ceg3121/angular-site/wsu-hw-ng-main/src/app/components/profile/profile.component.html","/home/abruptedge/crafton-project4-ceg3121/angular-site/wsu-hw-ng-main/src/app/components/profile/profile.component.ts"],"sourcesContent":["<div class=\"flex profile-container\">\n  <!-- Background Image -->\n  <div class=\"flex-grow flex items-center justify-center overflow-hidden max-h-screen\">\n    <img ngSrc=\"../../../assets/duck.jpg\" alt=\"Profile Background\" class=\"object-cover\" width=\"3475\" height=\"4629\">\n  </div>\n\n  <div class=\"profile-info\">\n    <span class=\"row\"><div class=\"title\">User:</div> {{currentUser?.username || 'Birdman 1000000'}}</span>\n    <span class=\"row\"><div class=\"title\">Contact:</div> {{currentUser?.email || 'birdguy@birds.net'}}</span>\n    <span class=\"row\"><div class=\"title\">Password:</div>\n      <div *ngIf=\"!changePassword\">{{currentUser?.password || 'hello1234'}}</div>\n      <input class=\"password\" [(ngModel)]=\"password\" *ngIf=\"changePassword\" (keydown.enter)=\"doChangePassword()\" (focusout)=\"doChangePassword()\">\n    </span>\n    <div class=\"row cta-row\"><button (click)=\"changePassword = !changePassword\">{{(changePassword) ? 'Cancel' : 'Change Password'}}</button></div>\n  </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\n\nimport {UserService} from '../../services/user.service';\nimport {User} from '../../models/user.model';\nimport {ToastService} from '../../services/toast.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})\nexport class ProfileComponent implements OnInit {\n  currentUser: User | null | undefined;\n  changePassword: boolean = false;\n  password: string = '';\n\n  constructor(private user: UserService, private toastr: ToastService) {\n  }\n\n  ngOnInit() { // check to see if we are allowed to be on this page onInit (prevent errant routing)\n    this.user.currentUser$.subscribe((data) => {\n      this.currentUser = data;\n      this.password = data?.password ?? '';\n    });\n    this.toastr.showToast({\n      message: 'Welcome Back',\n      type: 'success'\n    });\n  }\n\n  doChangePassword() {\n    const updatedUser: User = {\n      id: this.currentUser?.id ?? 0,\n      username: this.currentUser?.username ?? '',\n      password: this.password ?? '',\n      email: this.currentUser?.email ?? ''\n    }\n    this.user.updateUser(this.currentUser?.id ?? 1234, updatedUser);\n    this.changePassword = false;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}